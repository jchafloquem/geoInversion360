import{b as s}from"./chunk-GH3IUQVA.js";import{c as o}from"./chunk-S5RWPBKA.js";import{g as r}from"./chunk-JEGVIFEP.js";var a=class{constructor(){this._resourceMap=new Map,this._inFlightResourceMap=new Map,this.geometryEngine=null,this.geometryEnginePromise=null}destroy(){this._inFlightResourceMap.clear(),this._resourceMap.clear()}getResource(e){return this._resourceMap.get(e)??null}fetchResource(e,n){return r(this,null,function*(){let i=this._resourceMap.get(e);if(i)return{width:i.width,height:i.height};let h=this._inFlightResourceMap.get(e);return h?h.then(t=>({width:t.width,height:t.height})):(h=o(e,n),this._inFlightResourceMap.set(e,h),h.then(t=>(this._inFlightResourceMap.delete(e),this._resourceMap.set(e,t),{width:t.width,height:t.height}),()=>({width:0,height:0})))})}deleteResource(e){this._inFlightResourceMap.delete(e),this._resourceMap.delete(e)}loadFont(e){return s(e)}};export{a};
