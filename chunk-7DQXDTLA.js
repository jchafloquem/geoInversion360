import{a as Xt}from"./chunk-GK4CPRU2.js";import{a as Yt}from"./chunk-PZ6UKR7S.js";import{a as Kt}from"./chunk-UBPTWFJG.js";import{a as At}from"./chunk-FJJ2HK4Z.js";import{a as Gt,e as ee,g as re,m as oe,n as ie}from"./chunk-KS53OQGV.js";import{a as Qt,p as Zt,q as Ht,r as zt,w as qt,z as G}from"./chunk-UKVDWQFD.js";import{h as Pt}from"./chunk-OLIJD5I4.js";import{h as Ct,i as Jt}from"./chunk-SPJDFBYB.js";import{a as Wt,b as J}from"./chunk-WMT47BMV.js";import{a as I}from"./chunk-IEUNGS56.js";import{N as te,j as ot,k as it,n as $t}from"./chunk-VOH7XGOR.js";import{a,v as _t}from"./chunk-SO6OJFOM.js";import{a as l,b as rt}from"./chunk-DG5QI6E2.js";import{$ as Ut,aa as kt}from"./chunk-OFVMJORF.js";import{d as k}from"./chunk-K4GPNFIS.js";import{b as et}from"./chunk-RP7XSKHE.js";import{a as C}from"./chunk-VC35VCVT.js";import{I as r,T as m,u as $,v as tt}from"./chunk-Z5NXR7SL.js";import{G as Lt,S as p}from"./chunk-7JLWSSXP.js";import{a as t}from"./chunk-W3WDPWBE.js";import{b as w,q as Bt}from"./chunk-BRWS572J.js";import{g as Dt}from"./chunk-JEGVIFEP.js";var st,O=st=class extends m{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new st({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};t([r({type:String,json:{write:!0}})],O.prototype,"expression",void 0),t([r({type:String,json:{write:!0}})],O.prototype,"name",void 0),t([r({type:["boolean","date","number","string"],json:{write:!0}})],O.prototype,"returnType",void 0),t([r({type:String,json:{write:!0}})],O.prototype,"title",void 0),O=st=t([p("esri.form.ExpressionInfo")],O);var se=O;var T=class extends m{constructor(e){super(e),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};t([r({type:String,json:{write:!0}})],T.prototype,"description",void 0),t([r({type:String,json:{write:!0}})],T.prototype,"label",void 0),t([r()],T.prototype,"type",void 0),t([r({type:String,json:{write:!0}})],T.prototype,"visibilityExpression",void 0),T=t([p("esri.form.elements.Element")],T);var y=T;var pt,W=pt=class extends m{constructor(e){super(e),this.type=null}clone(){return new pt({type:this.type})}};t([r({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],W.prototype,"type",void 0),W=pt=t([p("esri.form.elements.inputs.AttachmentInput")],W);var pe=W;var nt,M=nt=class extends y{constructor(e){super(e),this.attachmentKeyword=null,this.editableExpression=null,this.input=null,this.type="attachment"}clone(){return new nt({attachmentKeyword:this.attachmentKeyword,description:this.description,editableExpression:this.editableExpression,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};t([r({type:String,json:{write:!0}})],M.prototype,"attachmentKeyword",void 0),t([r({type:String,json:{write:!0}})],M.prototype,"editableExpression",void 0),t([r({type:pe,json:{read:{source:"inputType"},write:{target:"inputType"}}})],M.prototype,"input",void 0),t([r({type:["attachment"],json:{read:!1,write:!0}})],M.prototype,"type",void 0),M=nt=t([p("esri.form.elements.AttachmentElement")],M);var at=M;var P=class extends m{constructor(e){super(e),this.type=null}};t([r()],P.prototype,"type",void 0),P=t([p("esri.form.elements.inputs.Input")],P);var u=P;var _=class extends u{constructor(e){super(e),this.maxLength=null,this.minLength=0}};t([r({type:Number,json:{write:!0}})],_.prototype,"maxLength",void 0),t([r({type:Number,json:{write:!0}})],_.prototype,"minLength",void 0),_=t([p("esri.form.elements.inputs.TextInput")],_);var R=_;var lt,Q=lt=class extends R{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new lt({maxLength:this.maxLength,minLength:this.minLength})}};t([r({type:["barcode-scanner"],json:{read:!1,write:!0}})],Q.prototype,"type",void 0),Q=lt=t([p("esri.form.elements.inputs.BarcodeScannerInput")],Q);var ne=Q;var mt,V=mt=class extends u{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new mt({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};t([r({type:String,json:{write:!0}})],V.prototype,"noValueOptionLabel",void 0),t([r({type:Boolean,json:{write:!0}})],V.prototype,"showNoValueOption",void 0),t([r({type:["combo-box"],json:{read:!1,write:!0}})],V.prototype,"type",void 0),V=mt=t([p("esri.form.elements.inputs.ComboBoxInput")],V);var ae=V;var ut;function le(e){return e??null}function me(e){return e??null}var g=ut=class extends u{constructor(e){super(e),this.max=null,this.min=null,this.type="date-picker"}readMax(e,o){return le(o.max)}writeMax(e,o){o.max=me(e)}readMin(e,o){return le(o.min)}writeMin(e,o){o.min=me(e)}clone(){return new ut({max:this.max,min:this.min})}};t([r({type:String,json:{type:String,write:!0}})],g.prototype,"max",void 0),t([a("max")],g.prototype,"readMax",null),t([l("max")],g.prototype,"writeMax",null),t([r({type:String,json:{type:String,write:!0}})],g.prototype,"min",void 0),t([a("min")],g.prototype,"readMin",null),t([l("min")],g.prototype,"writeMin",null),t([r({type:["date-picker"],json:{read:!1,write:!0}})],g.prototype,"type",void 0),g=ut=t([p("esri.form.elements.inputs.DatePickerInput")],g);var ue=g;var ct;function dt(e){return e??null}function yt(e){return e??null}var d=ct=class extends u{constructor(e){super(e),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(e,o){return dt(o.max)}writeMax(e,o){o.max=yt(e)}readMin(e,o){return dt(o.min)}writeMin(e,o){o.min=yt(e)}readTimeResolution(e,o){return dt(o.timeResolution)}writeTimeResolution(e,o){o.timeResolution=yt(e)}clone(){return new ct({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};t([r({type:Boolean,json:{write:!0}})],d.prototype,"includeTimeOffset",void 0),t([r({type:String,json:{type:String,write:!0}})],d.prototype,"max",void 0),t([a("max")],d.prototype,"readMax",null),t([l("max")],d.prototype,"writeMax",null),t([r({type:String,json:{type:String,write:!0}})],d.prototype,"min",void 0),t([a("min")],d.prototype,"readMin",null),t([l("min")],d.prototype,"writeMin",null),t([r({type:String,json:{type:String,write:!0}})],d.prototype,"timeResolution",void 0),t([a("timeResolution")],d.prototype,"readTimeResolution",null),t([l("timeResolution")],d.prototype,"writeTimeResolution",null),t([r({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],d.prototype,"type",void 0),d=ct=t([p("esri.form.elements.inputs.DateTimeOffsetPickerInput")],d);var de=d;var ft;function ye(e){return e!=null?new Date(e):null}function ce(e){return e?e.getTime():null}var x=ft=class extends u{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,o){return ye(o.max)}writeMax(e,o){o.max=ce(e)}readMin(e,o){return ye(o.min)}writeMin(e,o){o.min=ce(e)}clone(){return new ft({includeTime:this.includeTime,max:this.max,min:this.min})}};t([r({type:Boolean,json:{write:!0}})],x.prototype,"includeTime",void 0),t([r({type:Date,json:{type:Number,write:!0}})],x.prototype,"max",void 0),t([a("max")],x.prototype,"readMax",null),t([l("max")],x.prototype,"writeMax",null),t([r({type:Date,json:{type:Number,write:!0}})],x.prototype,"min",void 0),t([a("min")],x.prototype,"readMin",null),t([l("min")],x.prototype,"writeMin",null),t([r({type:["datetime-picker"],json:{read:!1,write:!0}})],x.prototype,"type",void 0),x=ft=t([p("esri.form.elements.inputs.DateTimePickerInput")],x);var fe=x;var ht,D=ht=class extends u{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new ht({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};t([r({type:String,json:{write:!0}})],D.prototype,"noValueOptionLabel",void 0),t([r({type:Boolean,json:{write:!0}})],D.prototype,"showNoValueOption",void 0),t([r({type:["radio-buttons"],json:{read:!1,write:!0}})],D.prototype,"type",void 0),D=ht=t([p("esri.form.elements.inputs.RadioButtonsInput")],D);var he=D;var xt,B=xt=class extends u{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new xt({offValue:this.offValue,onValue:this.onValue})}};t([r({type:[String,Number],json:{write:!0}})],B.prototype,"offValue",void 0),t([r({type:[String,Number],json:{write:!0}})],B.prototype,"onValue",void 0),t([r({type:["switch"],json:{read:!1,write:!0}})],B.prototype,"type",void 0),B=xt=t([p("esri.form.elements.inputs.SwitchInput")],B);var xe=B;var vt,Z=vt=class extends R{constructor(e){super(e),this.type="text-area"}clone(){return new vt({maxLength:this.maxLength,minLength:this.minLength})}};t([r({type:["text-area"],json:{read:!1,write:!0}})],Z.prototype,"type",void 0),Z=vt=t([p("esri.form.elements.inputs.TextAreaInput")],Z);var ve=Z;var bt,H=bt=class extends R{constructor(e){super(e),this.type="text-box"}clone(){return new bt({maxLength:this.maxLength,minLength:this.minLength})}};t([r({type:["text-box"],json:{read:!1,write:!0}})],H.prototype,"type",void 0),H=bt=t([p("esri.form.elements.inputs.TextBoxInput")],H);var be=H;var St;function wt(e){return e??null}function gt(e){return e??null}var c=St=class extends u{constructor(e){super(e),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(e,o){return wt(o.max)}writeMax(e,o){o.max=gt(e)}readMin(e,o){return wt(o.min)}writeMin(e,o){o.min=gt(e)}readTimeResolution(e,o){return wt(o.timeResolution)}writeTimeResolution(e,o){o.timeResolution=gt(e)}clone(){return new St({max:this.max,min:this.min,timeResolution:this.timeResolution})}};t([r({type:String,json:{type:String,write:!0}})],c.prototype,"max",void 0),t([a("max")],c.prototype,"readMax",null),t([l("max")],c.prototype,"writeMax",null),t([r({type:String,json:{type:String,write:!0}})],c.prototype,"min",void 0),t([a("min")],c.prototype,"readMin",null),t([l("min")],c.prototype,"writeMin",null),t([r({type:String,json:{type:String,write:!0}})],c.prototype,"timeResolution",void 0),t([a("timeResolution")],c.prototype,"readTimeResolution",null),t([l("timeResolution")],c.prototype,"writeTimeResolution",null),t([r({type:["time-picker"],json:{read:!1,write:!0}})],c.prototype,"type",void 0),c=St=t([p("esri.form.elements.inputs.TimePickerInput")],c);var we=c;var ge={base:u,key:"type",typeMap:{"barcode-scanner":ne,"combo-box":ae,"date-picker":ue,"datetime-picker":fe,"datetimeoffset-picker":de,"radio-buttons":he,switch:xe,"text-area":ve,"text-box":be,"time-picker":we}};var jt,h=jt=class extends y{constructor(e){super(e),this.domain=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}get editable(){return this._get("editable")??!0}set editable(e){this._set("editable",e)}clone(){return new jt({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};t([r({types:Wt,json:{read:{reader:J},write:!0}})],h.prototype,"domain",void 0),t([r({type:Boolean,json:{write:!0}})],h.prototype,"editable",null),t([r({type:String,json:{write:!0}})],h.prototype,"editableExpression",void 0),t([r({type:String,json:{write:!0}})],h.prototype,"fieldName",void 0),t([r({type:String,json:{write:!0}})],h.prototype,"hint",void 0),t([r({types:ge,json:{read:{source:"inputType"},write:{target:"inputType"}}})],h.prototype,"input",void 0),t([r({type:String,json:{write:!0}})],h.prototype,"requiredExpression",void 0),t([r({type:String,json:{read:!1,write:!0}})],h.prototype,"type",void 0),t([r({type:String,json:{write:!0}})],h.prototype,"valueExpression",void 0),h=jt=t([p("esri.form.elements.FieldElement")],h);var Et=h;var Ft,j=Ft=class extends y{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new Ft({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:w(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};t([r({type:Number,json:{write:!0}})],j.prototype,"displayCount",void 0),t([r({type:["list"],json:{write:!0}})],j.prototype,"displayType",void 0),t([r({type:String,json:{write:!0}})],j.prototype,"editableExpression",void 0),t([r({type:[Pt],json:{write:!0}})],j.prototype,"orderByFields",void 0),t([r({type:Number,json:{write:!0}})],j.prototype,"relationshipId",void 0),t([r({type:["relationship"],json:{read:!1,write:!0}})],j.prototype,"type",void 0),j=Ft=t([p("esri.form.elements.RelationshipElement")],j);var It=j;var Ot,L=Ot=class extends y{constructor(e){super(e),this.text=null,this.textFormat="plain-text",this.type="text"}clone(){return new Ot({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};t([r({type:String,json:{write:!0}})],L.prototype,"text",void 0),t([r({type:String,json:{write:!0}})],L.prototype,"textFormat",void 0),t([r({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],L.prototype,"type",void 0),L=Ot=t([p("esri.form.elements.TextElement")],L);var Tt=L;function z(e){return{typesWithGroup:{base:y,key:"type",typeMap:{attachment:at,field:Et,group:e,relationship:It,text:Tt}},typesWithoutGroup:{base:y,key:"type",typeMap:{attachment:at,field:Et,relationship:It,text:Tt}}}}function q(e,o,s=!0){if(!e)return null;let i=s?o.typesWithGroup.typeMap:o.typesWithoutGroup.typeMap;return e.filter(n=>i[n.type]).map(n=>i[n.type].fromJSON(n))}function K(e,o,s=!0){if(!e)return null;let i=s?o.typesWithGroup.typeMap:o.typesWithoutGroup.typeMap;return e.filter(n=>i[n.type]).map(n=>n.toJSON())}function X(e,o,s=!0){return e?e.map(i=>Lt(s?o.typesWithGroup:o.typesWithoutGroup,i)):null}var Nt,S=Nt=class extends y{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return X(e,Mt,!1)}readElements(e,o){return q(o.formElements,Mt,!1)}writeElements(e,o){o.formElements=K(e,Mt,!1)}clone(){return new Nt({description:this.description,elements:w(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};t([r({json:{write:!0}})],S.prototype,"elements",void 0),t([C("elements")],S.prototype,"castElements",null),t([a("elements",["formElements"])],S.prototype,"readElements",null),t([l("elements")],S.prototype,"writeElements",null),t([r({type:["collapsed","expanded"],json:{write:!0}})],S.prototype,"initialState",void 0),t([r({type:String,json:{read:!1,write:!0}})],S.prototype,"type",void 0),S=Nt=t([p("esri.form.elements.GroupElement")],S);var Mt=z(S),Se=S;var je=e=>e.type==="field",Ee=e=>e.type==="group",Fe=e=>e.type==="text";var Vt,Rt=z(Se),v=Vt=class extends m{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(e){return X(e,Rt)}readElements(e,o){return q(o.formElements,Rt)}writeElements(e,o){o.formElements=K(e,Rt)}clone(){return new Vt({description:this.description,expressionInfos:w(this.expressionInfos),elements:w(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}getFieldsUsed(e,o){return Dt(this,null,function*(){let s=new Set,{description:i,elements:n,expressionInfos:f,title:N}=this;if(A(s,e,i),A(s,e,N),!n)return[];let Re=Ve(n,f).map(Y=>$t(s,e,Y));yield Promise.all(Re);for(let Y of n)Ie(s,{fieldsIndex:e,relationships:o},Y);return Array.from(s).sort()})}};function Ie(e,o,s){let{fieldsIndex:i}=o;if(!i||i.fields.length!==e.size)switch(A(e,i,s.label),A(e,i,s.description),s.type){case"field":it(e,i,s.fieldName);break;case"group":s.elements.forEach(n=>Ie(e,o,n));break;case"relationship":if(o.relationships){let n=o.relationships.find(f=>f.id===s.relationshipId);n&&it(e,i,n.keyField)}ot(e,i,s.orderByFields?.map(n=>n.field));break;case"text":A(e,i,s.text)}}function Ve(e,o){if(!o||o.length===0)return[];let s=Oe(e),i=[];for(let n of o)s.has(n.name)&&i.push(n.expression);return i}function Oe(e){let o=new Set;for(let s of e)if(tt(o,s.visibilityExpression),!Fe(s)){if(Ee(s))$(o,Oe(s.elements));else if(tt(o,s.editableExpression),je(s)){let{requiredExpression:i,valueExpression:n}=s;$(o,[i,n])}}return o}function A(e,o,s){ot(e,o,te(s))}t([r({type:String,json:{write:!0}})],v.prototype,"description",void 0),t([r({json:{write:!0}})],v.prototype,"elements",void 0),t([C("elements")],v.prototype,"castElements",null),t([a("elements",["formElements"])],v.prototype,"readElements",null),t([l("elements")],v.prototype,"writeElements",null),t([r({type:[se],json:{write:!0}})],v.prototype,"expressionInfos",void 0),t([r({type:Boolean,json:{default:!1,write:!0}})],v.prototype,"preserveFieldValuesWhenHidden",void 0),t([r({type:String,json:{write:!0}})],v.prototype,"title",void 0),v=Vt=t([p("esri.form.FormTemplate")],v);var Ws=v;var E=class extends I(m){constructor(e){super(e),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};t([r()],E.prototype,"creatorField",void 0),t([r()],E.prototype,"creationDateField",void 0),t([r()],E.prototype,"editorField",void 0),t([r()],E.prototype,"editDateField",void 0),t([r()],E.prototype,"realm",void 0),t([r(k("dateFieldsTimeReference",!0))],E.prototype,"timeZone",void 0),E=t([p("esri.layers.support.EditFieldsInfo")],E);var Te=E;var b=class extends I(m){constructor(e){super(e)}};t([r({constructOnly:!0,json:{write:!0}})],b.prototype,"name",void 0),t([r({constructOnly:!0,json:{write:!0}})],b.prototype,"fields",void 0),t([r({constructOnly:!0,json:{write:!0}})],b.prototype,"isAscending",void 0),t([r({constructOnly:!0,json:{write:!0}})],b.prototype,"indexType",void 0),t([r({constructOnly:!0,json:{write:!0}})],b.prototype,"isUnique",void 0),t([r({constructOnly:!0,json:{write:!0}})],b.prototype,"description",void 0),b=t([p("esri.layers.support.FeatureIndex")],b);var U=class extends I(m){constructor(e){super(e),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};t([r({type:String,json:{read:{source:"shapeAreaFieldName"}}})],U.prototype,"shapeAreaField",void 0),t([r({type:String,json:{read:{source:"shapeLengthFieldName"}}})],U.prototype,"shapeLengthField",void 0),t([r({type:String,json:{read:e=>Ut.read(e)||kt.read(e)}})],U.prototype,"units",void 0),U=t([p("esri.layers.support.GeometryFieldsInfo")],U);var Me=U;var F=class extends I(m){constructor(e){super(e),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(e){if(!e)return null;let o={};for(let s of Object.keys(e))o[s]=J(e[s]);return o}writeDomains(e,o){if(!e)return;let s={};for(let i of Object.keys(e))e[i]&&(s[i]=e[i]?.toJSON());o.domains=s}};t([r({type:Number,json:{write:!0}})],F.prototype,"code",void 0),t([r({type:Object,json:{write:!0}})],F.prototype,"defaultValues",void 0),t([r({json:{write:!0}})],F.prototype,"domains",void 0),t([a("domains")],F.prototype,"readDomains",null),t([l("domains")],F.prototype,"writeDomains",null),t([r({type:String,json:{write:!0}})],F.prototype,"name",void 0),F=t([p("esri.layers.support.Subtype")],F);var Ne=F;var ln=e=>{let o=class extends e{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(et.ofType(b)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=rt.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.version=void 0}get authenticationTriggerEvent(){if(!this.url)return null;let{capabilities:s}=this;if(s){let{query:n,operations:f,editing:N}=s;if(!n.supportsQueryByOthers||!n.supportsQueryByAnonymous||f.supportsEditing&&!(N.supportsUpdateByOthers&&N.supportsUpdateByAnonymous&&N.supportsDeleteByOthers&&N.supportsDeleteByAnonymous))return"load"}if(this.userHasUpdateItemPrivileges){if(qt(this))return"load";if(this.hasUpdateItemRestrictions)return s.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";let i=this.editFieldsInfo;return(i?.creatorField||i?.editorField)&&s?.operations.supportsEditing?"editing":null}readCapabilitiesFromService(s,i){return Yt(i,this.url)}readEditingInfo(s,i){let{editingInfo:n}=i;return n?{lastEditDate:n.lastEditDate!=null?new Date(n.lastEditDate):null}:null}get effectiveCapabilities(){let s=this.capabilities;if(!s)return null;let i=w(s),{operations:n,editing:f}=i;return G(this)?(this.userHasUpdateItemPrivileges&&(n.supportsQuery=!0),i):this.userHasUpdateItemPrivileges?(n.supportsAdd=n.supportsDelete=n.supportsEditing=n.supportsQuery=n.supportsUpdate=f.supportsDeleteByOthers=f.supportsGeometryUpdate=f.supportsUpdateByOthers=!0,i):(this.userHasFullEditingPrivileges&&n.supportsEditing&&(n.supportsAdd=n.supportsDelete=n.supportsUpdate=f.supportsGeometryUpdate=!0),i)}readGlobalIdFieldFromService(s,i){return Zt(i)}get hasFullEditingRestrictions(){let s=this.capabilities;if(!s||G(this))return!1;let{operations:i,editing:n}=s;return i.supportsEditing&&!(i.supportsAdd&&i.supportsDelete&&i.supportsUpdate&&n.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){let s=this.capabilities;if(!s)return!1;let{operations:i,editing:n}=s;return G(this)?!i.supportsQuery:!(i.supportsAdd&&i.supportsDelete&&i.supportsEditing&&i.supportsQuery&&i.supportsUpdate&&n.supportsDeleteByOthers&&n.supportsGeometryUpdate&&n.supportsUpdateByOthers)}readIsTableFromService(s,i){return i.type==="Table"}readMaxScale(s,i){return i.effectiveMaxScale||s||0}readMinScale(s,i){return i.effectiveMinScale||s||0}readObjectIdFieldFromService(s,i){return Ht(i)}readServiceDefinitionExpression(s,i){return i.definitionQuery||i.definitionExpression}set url(s){if(s==null)return void this._set("url",s);let i=Ct({layer:this,url:s,nonStandardUrlAllowed:!0,logger:Bt.getLogger(this)});this._set("url",i.url),i.layerId!=null&&this._set("layerId",i.layerId)}writeUrl(s,i,n,f){Jt(this,s,null,i,f)}readVersion(s,i){return zt(i)}};return t([r({readOnly:!0})],o.prototype,"authenticationTriggerEvent",null),t([r({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],o.prototype,"copyright",void 0),t([r({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],o.prototype,"capabilities",void 0),t([a("service","capabilities")],o.prototype,"readCapabilitiesFromService",null),t([r(k("dateFieldsTimeReference"))],o.prototype,"dateFieldsTimeZone",void 0),t([r({type:Boolean})],o.prototype,"datesInUnknownTimezone",void 0),t([r({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],o.prototype,"definitionExpression",void 0),t([r({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],o.prototype,"displayField",void 0),t([r({readOnly:!0,type:Te})],o.prototype,"editFieldsInfo",void 0),t([r({readOnly:!0})],o.prototype,"editingInfo",void 0),t([a("editingInfo")],o.prototype,"readEditingInfo",null),t([r({readOnly:!0})],o.prototype,"effectiveCapabilities",null),t([r((()=>{let s=w(re),i=s.json.origins;return i["web-map"]={read:!1,write:!1},i["portal-item"]={read:!1,write:!1},s})())],o.prototype,"elevationInfo",void 0),t([r({type:Kt,json:{name:"layerDefinition.floorInfo",write:!0,origins:{"web-scene":{name:"layerDefinition.floorInfo",write:{enabled:!0,layerContainerTypes:Gt}}}}})],o.prototype,"floorInfo",void 0),t([r({type:_t,json:{origins:{service:{read:{source:"extent"}}}}})],o.prototype,"fullExtent",void 0),t([r()],o.prototype,"gdbVersion",void 0),t([r({readOnly:!0,type:Me,json:{read:{source:"geometryProperties"}}})],o.prototype,"geometryFieldsInfo",void 0),t([r({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:Qt.read}}}})],o.prototype,"geometryType",void 0),t([r({type:String})],o.prototype,"globalIdField",void 0),t([a("service","globalIdField",["globalIdField","fields"])],o.prototype,"readGlobalIdFieldFromService",null),t([r({readOnly:!0})],o.prototype,"hasFullEditingRestrictions",null),t([r({type:Boolean,json:{origins:{service:{read:!0}}}})],o.prototype,"hasM",void 0),t([r({readOnly:!0})],o.prototype,"hasUpdateItemRestrictions",null),t([r({type:Boolean,json:{origins:{service:{read:!0}}}})],o.prototype,"hasZ",void 0),t([r({readOnly:!0,type:At})],o.prototype,"heightModelInfo",void 0),t([r({type:Date})],o.prototype,"historicMoment",void 0),t([r({type:et.ofType(b),readOnly:!0})],o.prototype,"indexes",void 0),t([r({readOnly:!0})],o.prototype,"isTable",void 0),t([a("service","isTable",["type"])],o.prototype,"readIsTableFromService",null),t([r({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],o.prototype,"layerId",void 0),t([r(ie)],o.prototype,"maxScale",void 0),t([a("service","maxScale",["maxScale","effectiveMaxScale"])],o.prototype,"readMaxScale",null),t([r(oe)],o.prototype,"minScale",void 0),t([a("service","minScale",["minScale","effectiveMinScale"])],o.prototype,"readMinScale",null),t([r({type:String})],o.prototype,"objectIdField",void 0),t([a("service","objectIdField",["objectIdField","fields"])],o.prototype,"readObjectIdFieldFromService",null),t([r(k("preferredTimeReference"))],o.prototype,"preferredTimeZone",void 0),t([r({type:[Xt],readOnly:!0})],o.prototype,"relationships",void 0),t([r({type:Boolean})],o.prototype,"returnM",void 0),t([r({type:Boolean})],o.prototype,"returnZ",void 0),t([r({readOnly:!0,json:{write:!1}})],o.prototype,"serverGens",void 0),t([r({readOnly:!0})],o.prototype,"serviceDefinitionExpression",void 0),t([a("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],o.prototype,"readServiceDefinitionExpression",null),t([r({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],o.prototype,"serviceItemId",void 0),t([r()],o.prototype,"sourceJSON",void 0),t([r({type:rt,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],o.prototype,"spatialReference",void 0),t([r({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],o.prototype,"subtypeField",void 0),t([r({type:[Ne],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],o.prototype,"subtypes",void 0),t([r({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],o.prototype,"trackIdField",void 0),t([r(ee)],o.prototype,"url",null),t([l("url")],o.prototype,"writeUrl",null),t([r({json:{origins:{service:{read:!0}},read:!1}})],o.prototype,"version",void 0),t([a("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],o.prototype,"readVersion",null),o=t([p("esri.layers.mixins.FeatureLayerBase")],o),o};export{Ws as a,ln as b};
