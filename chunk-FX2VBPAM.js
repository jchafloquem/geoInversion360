import{a as u,d as h}from"./chunk-HFQFGALU.js";import{a as d,z as c}from"./chunk-JKP4I6UL.js";import{s as l}from"./chunk-BRWS572J.js";import{g as i}from"./chunk-JEGVIFEP.js";var f=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,p={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function g(e){return e in p}var a=[],t=new Map;function m(e){for(let s of t.keys())_(e.pattern,s)&&t.delete(s)}function B(e){return a.includes(e)||(m(e),a.unshift(e)),d(()=>{let s=a.indexOf(e);s>-1&&(a.splice(s,1),m(e))})}function k(e){return i(this,null,function*(){let s=u();t.has(e)||t.set(e,w(e,s));let n=t.get(e);return n&&(yield L.add(n)),n})}function v(e){if(!f.test(e))return null;let s=f.exec(e);if(s===null)return null;let[,n,r]=s,o=n+(r?"-"+r.toUpperCase():"");return g(o)?o:g(n)?n:null}function w(e,s){return i(this,null,function*(){let n=[];for(let r of a)if(_(r.pattern,e))try{return yield r.fetchMessageBundle(e,s)}catch(o){n.push(o)}throw n.length?new l("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:n}):new l("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)})}function _(e,s){return typeof e=="string"?s.startsWith(e):e.test(s)}h(()=>{t.clear()});var L=new class{constructor(){this._numLoading=0,this._dfd=null}waitForAll(){return i(this,null,function*(){this._dfd&&(yield this._dfd.promise)})}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=c())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};export{B as a,k as b,v as c};
