import{a as ge}from"./chunk-FRAAR7RR.js";import{a as de,b as fe,c as me,d as pe,e as be,f as he,g as N,i as ye}from"./chunk-QPP4HOHY.js";import{a as ue}from"./chunk-WQ4ZETPN.js";import{a as we}from"./chunk-TMKRZUEM.js";import{b as le,d as F,k as C,l as D,m as ne,n as se,o as A,p as ce}from"./chunk-DDHMQRMR.js";import{a as ie}from"./chunk-KFCU4KQY.js";import{c as oe}from"./chunk-VOH7XGOR.js";import{b as re}from"./chunk-TMZNSBQB.js";import{g as c}from"./chunk-72VQRINQ.js";import{e as T,g as O,k as P}from"./chunk-R2RE6SI6.js";import{h as ae}from"./chunk-K4GPNFIS.js";import{I as B}from"./chunk-Z5NXR7SL.js";import{S as te,t as ee}from"./chunk-7JLWSSXP.js";import{a as z}from"./chunk-W3WDPWBE.js";import{a as Q}from"./chunk-TZHKPIVH.js";import{k as Z}from"./chunk-BRWS572J.js";import{c as J}from"./chunk-AKNRR36C.js";import{a as M,b as H,d as K,g as R}from"./chunk-JEGVIFEP.js";var ve={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"};function $e(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);let a=t._delegatedEventNames,r=Array.isArray(e)?e:Ie(e);a.push(...r)}}function Ie(e){return e.split(",").map(t=>t.trim())}function rt(i,r){var o=i,{level:e,class:t}=o,a=K(o,["level","class"]);let l=ke(e);return c(`h${l}`,H(M({},a),{"aria-level":String(l),class:T(ve.heading,t),role:"heading"}),r)}function ke(e){return re(Math.ceil(e),1,6)}function it(e,t=1){return ke(e+t)}function ze(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${String(t)}'`);return{value:Ae(e[t])}}}function De(e){let t=e?.type;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function Ae(e){return function(t,...a){De(t)?P(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...a)}}var ht=e=>{let t=class extends e{constructor(...a){super(...a),this.goToOverride=null,this.view=null}callGoTo(a){let{view:r}=this;return Q(r),this.goToOverride?this.goToOverride(r,a):r.goTo(a.target,a.options)}};return z([B()],t.prototype,"goToOverride",void 0),z([B()],t.prototype,"view",void 0),t=z([te("esri.widgets.support.GoTo")],t),t};var wt={checkMark:"esri-icon-check-mark",close:"esri-icon-close",collapse:"esri-icon-collapse",down:"esri-icon-down",downArrow:"esri-icon-down-arrow",dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical",duplicate:"esri-icon-duplicate",expand:"esri-icon-expand",fontFallbackText:"esri-icon-font-fallback-text",forward:"esri-icon-forward",handleVertical:"esri-icon-handle-vertical",icon:"esri-icon",left:"esri-icon-left",loadingIndicator:"esri-icon-loading-indicator",locateCircled:"esri-icon-locate-circled",minus:"esri-icon-minus",noticeTriangle:"esri-icon-notice-triangle",pause:"esri-icon-pause",play:"esri-icon-play",plus:"esri-icon-plus",radioChecked:"esri-icon-radio-checked",radioUnchecked:"esri-icon-radio-unchecked",refresh:"esri-icon-refresh",reverse:"esri-icon-reverse",right:"esri-icon-right",search:"esri-icon-search",swap:"esri-icon-swap",table:"esri-icon-table",trash:"esri-icon-trash",up:"esri-icon-up",upArrow:"esri-icon-up-arrow",upDownArrows:"esri-icon-up-down-arrows",urbanModel:"esri-icon-urban-model",zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass",zoomToObject:"esri-icon-zoom-to-object"};function It(e){return e&&typeof e.render=="function"}function zt(e){return e&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}var xe="esri-relationship-ramp",q=`${xe}--diamond`,_=`${xe}--square`,Be="http://www.w3.org/2000/svg",d={diamondContainer:`${q}__container`,diamondLeftCol:`${q}__left-column`,diamondRightCol:`${q}__right-column`,diamondMidCol:`${q}__middle-column`,diamondMidColLabel:`${q}__middle-column--label`,diamondMidColRamp:`${q}__middle-column--ramp`,squareTable:`${_}__table`,squareTableRow:`${_}__table-row`,squareTableCell:`${_}__table-cell`,squareTableLabel:`${_}__table-label`,squareTableLabelLeftBottom:`${_}__table-label--left-bottom`,squareTableLabelRightBottom:`${_}__table-label--right-bottom`,squareTableLabelLeftTop:`${_}__table-label--left-top`,squareTableLabelRightTop:`${_}__table-label--right-top`};function Oe(e,t,a={}){let{focus:r,labels:i}=e,o=!!r,l=Pe(e,t,a),u={justifyContent:"center"},p=O();return o?c("div",{class:d.diamondContainer,styles:u},c("div",{class:d.diamondLeftCol},p?i.right:i.left),c("div",{class:d.diamondMidCol},c("div",{class:d.diamondMidColLabel},i.top),l,c("div",{class:d.diamondMidColLabel},i.bottom)),c("div",{class:d.diamondRightCol},p?i.left:i.right)):c("div",{class:d.squareTable},c("div",{class:d.squareTableRow},c("div",{class:T(d.squareTableCell,d.squareTableLabel,d.squareTableLabelRightBottom)},p?i.top:i.left),c("div",{class:d.squareTableCell}),c("div",{class:T(d.squareTableCell,d.squareTableLabel,d.squareTableLabelLeftBottom)},p?i.left:i.top)),c("div",{class:d.squareTableRow},c("div",{class:d.squareTableCell}),l,c("div",{class:d.squareTableCell})),c("div",{class:d.squareTableRow},c("div",{class:T(d.squareTableCell,d.squareTableLabel,d.squareTableLabelRightTop)},p?i.right:i.bottom),c("div",{class:d.squareTableCell}),c("div",{class:T(d.squareTableCell,d.squareTableLabel,d.squareTableLabelLeftTop)},p?i.bottom:i.right)))}function Le(e,t,a){let r=`${a}_arrowStart`,i=`${a}_arrowEnd`,o=e==="left",l={markerStart:null,markerEnd:null};switch(t){case"HL":o?l.markerStart=`url(#${i})`:l.markerEnd=`url(#${r})`;break;case"LL":l.markerStart=`url(#${i})`;break;case"LH":o?l.markerEnd=`url(#${r})`:l.markerStart=`url(#${i})`;break;default:l.markerEnd=`url(#${r})`}return l}function Pe(e,t,a={}){let{focus:r,numClasses:i,colors:o,rotation:l}=e,{opacity:u,effectList:p,ariaLabel:y}=a,f=a.size??60,m=!!r,s=Math.sqrt(f**2+f**2)+(m?0:5),h=[],n=[],g=[],w=(f||75)/i;for(let $=0;$<i;$++){let qe=$*w;for(let I=0;I<i;I++){let Ee=I*w,G=fe(o[$][I]),Fe=me(null),j={type:"rect",x:Ee,y:qe,width:w,height:w},X=pe(G);X&&h.push(X);let Y=de(j,G.fill,Fe,null);Y&&n.push(Y),g.push(be(j))}}let L=10,v=15,b=15,x=10,S=null;m||(S="margin: -15px -15px -18px -15px");let V=Le("left",r,t),W=Le("right",r,t),U=he(g),Ve=N(U,s,s,0,!1,l,!1),He=N(U,s,s,0,!1,m?-45:null,!1),Re={filter:A(p)??void 0,opacity:u==null?"":`${u}`};return c("div",{class:m?d.diamondMidColRamp:d.squareTableCell,styles:Re},c("svg",{"aria-label":y,focusable:!1,height:s,role:"image",style:S,width:s,xmlns:Be},c("defs",null,c("marker",{id:`${t}_arrowStart`,markerHeight:"10",markerUnits:"strokeWidth",markerWidth:"10",orient:"auto",refX:"5",refY:"5"},c("polyline",{fill:"none",points:"0,0 5,5 0,10",stroke:"#555555","stroke-width":"1"})),c("marker",{id:`${t}_arrowEnd`,markerHeight:"10",markerUnits:"strokeWidth",markerWidth:"10",orient:"auto",refX:"0",refY:"5"},c("polyline",{fill:"none",points:"5,0 0,5 5,10",stroke:"#555555","stroke-width":"1"})),h),c("g",{transform:Ve},n),c("g",{transform:He},c("line",{fill:"none","marker-end":V.markerEnd,"marker-start":V.markerStart,stroke:"#555555","stroke-width":"1",x1:-L,x2:-L,y1:f-v,y2:v}),c("line",{fill:"none","marker-end":W.markerEnd,"marker-start":W.markerStart,stroke:"#555555","stroke-width":"1",x1:b,x2:f-b,y1:f+x,y2:f+x}))))}var Se={HH:315,HL:45,LL:135,LH:225},Ne={2:[["HL","HH"],["LL","LH"]],3:[["HL","HM","HH"],["ML","MM","MH"],["LL","LM","LH"]],4:[["HL","HM1","HM2","HH"],["M2L","M2M1","M2M2","M2H"],["M1L","M1M1","M1M2","M1H"],["LL","LM1","LM2","LH"]]};function We(e){if(!e)return;let{type:t}=e;if(t.includes("3d"))return ge(e.symbolLayers.at(0));if(t==="simple-line"){let a=F(e);return a&&a.color}if(e.type==="simple-marker"&&(e.style==="x"||e.style==="cross")){let a=F(e);return a&&a.color}return le(e)}function Ue(e,t){let a=t.HH.label,r=t.LL.label,i=t.HL.label,o=t.LH.label;switch(e){case"HH":default:return{top:a,bottom:r,left:i,right:o};case"HL":return{top:i,bottom:o,left:r,right:a};case"LL":return{top:r,bottom:a,left:o,right:i};case"LH":return{top:o,bottom:i,left:a,right:r}}}function Ge(e){let{focus:t,infos:a,numClasses:r}=e,i=Ne[r],o={};a.forEach(u=>{o[u.value]={label:u.label,fill:We(u.symbol)}});let l=[];for(let u=0;u<r;u++){let p=[];for(let y=0;y<r;y++){let f=o[i[u][y]];p.push(f.fill)}l.push(p)}return{type:"relationship-ramp",numClasses:r,focus:t,colors:l,labels:Ue(t,o),rotation:je(t)}}function je(e){let t=Se[e];return e&&t==null&&(t=Se.HH),t||0}var E=null,Te=[255,255,255];function Ce(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function da(e,t,a){let{backgroundColor:r,outline:i,dotSize:o}=e,l=a?.swatchSize||ue.size,u=.8,p=Math.round(l*l/Math.max(o,.5)**2*u),y=window.devicePixelRatio,f=document.createElement("canvas"),m=l*y;f.width=m,f.height=m,f.style.width=f.width/y+"px",f.style.height=f.height/y+"px";let s=f.getContext("2d");if(r&&(s.fillStyle=r.toCss(!0),s.fillRect(0,0,m,m),s.fill()),s.fillStyle=t?.toCss(!0)??"",E&&E.length/2===p)for(let n=0;n<2*p;n+=2){let g=E[n],w=E[n+1];s.fillRect(g,w,o*y,o*y),s.fill()}else{E=[];for(let n=0;n<2*p;n+=2){let g=Ce(0,m),w=Ce(0,m);E.push(g,w),s.fillRect(g,w,o*y,o*y),s.fill()}}i&&(i.color&&(s.strokeStyle=i.color.toCss(!0)),s.lineWidth=i.width,s.strokeRect(0,0,m,m));let h=new Image(l,l);return h.src=f.toDataURL(),h.ariaLabel=a?.ariaLabel??null,h.alt=a?.ariaLabel??"",h}function fa(e,t={}){let a=t.radius||40,r=2*Math.PI*a,i=e.length,o=r/i,l=[],u=F(t.outline);u?.width!=null&&(u.width*=2),(u||t.backgroundColor)&&l.push({shape:{type:"circle",cx:a,cy:a,r:a},fill:t.backgroundColor,stroke:u,offset:[0,0]});let p=t.values,y=p&&p.length===i&&p.reduce((n,g)=>n+g,0)===100,f=[0];for(let n=0;n<i;n++){let g=null;y&&(g=p[n]*r/100,f.push(g+f[n])),l.push({shape:{type:"circle",cx:a,cy:a,r:a/2},fill:[0,0,0,0],stroke:{width:a,dashArray:`${(g??o)/2} ${r}`,dashoffset:"-"+(y?f[n]/2:n*(o/2)),color:e[n]},offset:[0,0]})}let m=null,s=2*a+(u?.width||0),h=t.holePercentage;if(h){u&&l.push({shape:{type:"circle",cx:a,cy:a,r:a*h},fill:null,stroke:u,offset:[0,0]});let n=s/2;m=[[{shape:{type:"circle",cx:n,cy:n,r:n},fill:Te,stroke:u?H(M({},u),{color:Te}):null,offset:[0,0]},{shape:{type:"circle",cx:n,cy:n,r:a*h},fill:[0,0,0],stroke:null,offset:[0,0]}]]}return ye([l],[s,s],{effectView:t.effectList,ignoreStrokeWidth:!0,masking:m,rotation:-90,ariaLabel:t.ariaLabel})}function ma(e,t={}){let i=t.align==="horizontal",o=i?75:24,l=i?24:75,u=t.width??o,p=t.height??l,y=t.gradient??!0,f=window.devicePixelRatio,m=u*f,s=p*f,h=document.createElement("canvas");h.width=m,h.height=s,h.ariaLabel=t.ariaLabel??null,h.style.width=`${u}px`,h.style.height=`${p}px`;let n=h.getContext("2d"),g=i?m:0,w=i?0:s;if(y){let v=n.createLinearGradient(0,0,g,w),b=e.length,x=b===1?0:1/(b-1);e.forEach((S,V)=>v.addColorStop(V*x,S.toString())),n.fillStyle=v,n.fillRect(0,0,m,s)}else{let v=i?m/e.length:m,b=i?s:s/e.length,x=0,S=0;for(let V of e)n.fillStyle=V.toString(),n.fillRect(x,S,v,b),x=i?x+v:0,S=i?0:S+b}let L=document.createElement("div");return L.style.width=`${u}px`,L.style.height=`${p}px`,Xe(L,t?.effectList),L.appendChild(h),L}function Xe(e,t){if(!t)return;e.style.filter=A(t);let a=t.effects;if(a){for(let r of a)if(r?.type==="drop-shadow"){r.offsetX<0?e.style.marginLeft=`${Math.abs(r.offsetX)}px`:e.style.marginRight=`${r.offsetX}px`;break}}}function Ye(e,t){return R(this,null,function*(){switch(e.type){case"web-style":{let{previewWebStyleSymbol:a}=yield import("./chunk-4IWGVFZJ.js");return a(e,Ye,t)}case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":{let{previewSymbol3D:a}=yield import("./chunk-ASDSDPGP.js");return a(e,t)}case"simple-marker":case"simple-line":case"simple-fill":case"picture-marker":case"picture-fill":case"text":{let{previewSymbol2D:a}=yield import("./chunk-R3CBI55V.js");return a(e,t)}case"cim":{let{previewCIMSymbol:a}=yield import("./chunk-EQZ5T7RQ.js");return a(e,t)}default:return}})}function _e(e){return e&&"opacity"in e?e.opacity*_e(e.parent):1}function pa(e,t){return R(this,null,function*(){if(!e)return;let a=e.sourceLayer,r=(t!=null&&t.useSourceLayer?a:e.layer)??a,i=_e(r);if(e.symbol!=null&&(t==null||t.ignoreGraphicSymbol!==!0)){let b=e.symbol.type==="web-style"?yield ce(e.symbol,H(M({},t),{cache:t!=null?t.webStyleCache:null})):e.symbol.clone();return D(b,null,i),b}let o=t?.renderer??Ke(r),l=o&&"getSymbolAsync"in o?yield o.getSymbolAsync(e,t):null;if(!l)return;if(l=l.type==="web-style"?yield l.fetchSymbol(H(M({},t),{cache:t!=null?t.webStyleCache:null})):l.clone(),!o||!("visualVariables"in o)||!o.visualVariables?.length)return D(l,null,i),l;if("arcadeRequiredForVisualVariables"in o&&o.arcadeRequiredForVisualVariables&&t?.arcade==null){let b=M({},t);b.arcade=yield oe(),t=b}let{getColor:u,getOpacity:p,getAllSizes:y,getRotationAngle:f}=yield import("./chunk-VXKLTDGB.js"),m=[],s=[],h=[],n=[];for(let b of o.visualVariables)switch(b.type){case"color":m.push(b);break;case"opacity":s.push(b);break;case"rotation":n.push(b);break;case"size":b.target||h.push(b)}let g=!!m.length&&m[m.length-1],w=g?u(g,e,t):null,L=!!s.length&&s[s.length-1],v=L?p(L,e,t):null;if(i!=null&&(v=v!=null?v*i:i),D(l,w,v),h.length){let b=y(h,e,t);yield ne(l,b)}for(let b of n)se(l,f(b,e,t),b.axis);return l})}function Ke(e){if(e)return"renderer"in e?e.renderer:void 0}function Me(e){if(!e.colorStops)return[];let t=[...e.colorStops].filter(r=>r.color?.a>0),a=t.length-1;if(t&&t[0]){let r=t[a];r&&r.ratio!==1&&(t.push(new ie({ratio:1,color:r.color})),a++)}return t.map((r,i)=>{let o="";return i===0?o=e.legendOptions?.minLabel||"low":i===a&&(o=e.legendOptions?.maxLabel||"high"),{color:r.color,label:o,ratio:r.ratio}}).reverse()}var Aa=ae("short-date");function k(e,t,a){return R(this,null,function*(){ee(e,t,()=>[]).push(...a)})}function Ba(e){return R(this,null,function*(){let t=new Map;if(!e)return t;if("visualVariables"in e&&e.visualVariables){let a=e.visualVariables.filter(r=>r.type==="color");for(let r of a){let i=((yield we(r))??[]).map(o=>o.color);yield k(t,r.field||r.valueExpression,i)}}if(e.type==="heatmap"){let a=Me(e).map(r=>r.color);yield k(t,e.field||e.valueExpression,a)}else if(e.type==="pie-chart"){for(let a of e.attributes)yield k(t,a.field||a.valueExpression,[a.color]);yield k(t,"default",[e?.othersCategory?.color,C(e.backgroundFillSymbol,null)])}else if(e.type==="dot-density"){for(let a of e.attributes)yield k(t,a.field||a.valueExpression,[a.color]);yield k(t,"default",[e.backgroundColor])}else if(e.type==="unique-value")if(e.authoringInfo?.type==="predominance")for(let a of e.uniqueValueInfos??[])yield k(t,a.value.toString(),[C(a.symbol,null)]);else{let a=(e.uniqueValueInfos??[]).map(u=>C(u.symbol,null)),{field:r,field2:i,field3:o,valueExpression:l}=e;(r||l)&&(yield k(t,r||l,a)),i&&(yield k(t,i,a)),o&&(yield k(t,o,a))}else if(e.type==="class-breaks"){let a=e.classBreakInfos.map(o=>C(o.symbol,null)),{field:r,valueExpression:i}=e;yield k(t,r??i,a)}else e.type==="simple"&&(yield k(t,"default",[C(e.symbol,null)]));return"defaultSymbol"in e&&e.defaultSymbol&&(yield k(t,"default",[C(e.defaultSymbol,null)])),t.forEach((a,r)=>{let i=J(a.filter(Boolean),(o,l)=>JSON.stringify(o)===JSON.stringify(l));t.set(r,i)}),t})}var Wa=()=>Z.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;export{ve as a,rt as b,it as c,ze as d,ht as e,wt as f,$e as g,It as h,zt as i,Oe as j,Ge as k,je as l,da as m,fa as n,ma as o,Ye as p,pa as q,Me as r,Ba as s,Wa as t};
