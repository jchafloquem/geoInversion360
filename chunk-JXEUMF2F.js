import{a as x}from"./chunk-JWHIBBJK.js";import{c as v}from"./chunk-TMZNSBQB.js";var z=e=>e==="vertical"||e==="horizontal"||e==="cross"||e==="esriSFSCross"||e==="esriSFSVertical"||e==="esriSFSHorizontal";function p(e,d,T){let r=d.style,l=v(Math.ceil(T)),a=z(r)?8*l:16*l,o=2*l;e.width=a,e.height=a;let t=e.getContext("2d");t.strokeStyle="#FFFFFF",t.lineWidth=l,t.beginPath(),r!=="vertical"&&r!=="cross"&&r!=="esriSFSCross"&&r!=="esriSFSVertical"||(t.moveTo(a/2,-o),t.lineTo(a/2,a+o)),r!=="horizontal"&&r!=="cross"&&r!=="esriSFSCross"&&r!=="esriSFSHorizontal"||(t.moveTo(-o,a/2),t.lineTo(a+o,a/2)),r!=="backward-diagonal"&&r!=="diagonal-cross"&&r!=="esriSFSDiagonalCross"&&r!=="esriSFSBackwardDiagonal"||(t.moveTo(-o,-o),t.lineTo(a+o,a+o),t.moveTo(a-o,-o),t.lineTo(a+o,o),t.moveTo(-o,a-o),t.lineTo(o,a+o)),r!=="forward-diagonal"&&r!=="diagonal-cross"&&r!=="esriSFSForwardDiagonal"&&r!=="esriSFSDiagonalCross"||(t.moveTo(a+o,-o),t.lineTo(-o,a+o),t.moveTo(o,-o),t.lineTo(-o,o),t.moveTo(a+o,a-o),t.lineTo(a-o,a+o)),t.stroke();let g=t.getImageData(0,0,e.width,e.height),s=new Uint8Array(g.data),h;for(let i=0;i<s.length;i+=4)h=s[i+3]/255,s[i]=s[i]*h,s[i+1]=s[i+1]*h,s[i+2]=s[i+2]*h;return[s,e.width,e.height,l]}function A(e,d){e==null&&(e=[]);let T=d==="Butt",r=d==="Square",l=!T&&!r;e.length%2==1&&(e=[...e,...e]);let a=15.5,o=2*a,t=0;for(let c of e)t+=c;let g=Math.round(t*a),s=new Float32Array(g*o),h=.5*a,i=0,S=0,n=.5,f=!0;for(let c of e){for(i=S,S+=c*a;n<=S;){let F=.5;for(;F<o;){let u=(F-.5)*g+n-.5,m=l?(F-a)*(F-a):Math.abs(F-a);s[u]=f?T?Math.max(Math.max(i+h-n,m),Math.max(n-S+h,m)):m:l?Math.min((n-i)*(n-i)+m,(n-S)*(n-S)+m):r?Math.min(Math.max(n-i,m),Math.max(S-n,m)):Math.min(Math.max(n-i+h,m),Math.max(S+h-n,m)),F++}n++}f=!f}let M=s.length,w=new Uint8Array(4*M);for(let c=0;c<M;++c){let F=(l?Math.sqrt(s[c]):s[c])/a;x(F,w,4*c)}return[w,g,o]}export{p as a,A as b};
