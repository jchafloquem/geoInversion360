import{a as k,e as q,g as st}from"./chunk-XWRPBDYS.js";import{a as j}from"./chunk-TCCAOREC.js";import{b,f as rt,l as P,o as it,s as nt,v as F}from"./chunk-SO6OJFOM.js";import{a as O,b as Y}from"./chunk-DG5QI6E2.js";import{I as R}from"./chunk-Z5NXR7SL.js";import{S as T}from"./chunk-7JLWSSXP.js";import{a as d}from"./chunk-W3WDPWBE.js";import{b as A}from"./chunk-BRWS572J.js";import{d as et}from"./chunk-AKNRR36C.js";function Z(t,e,r=!1){let{hasM:i,hasZ:n}=t;Array.isArray(e)?e.length!==4||i||n?e.length===3&&r&&!i?(n=!0,i=!1):e.length===3&&i&&n&&(i=!1,n=!1):(i=!0,n=!0):(n=!n&&e.hasZ&&(!i||e.hasM),i=!i&&e.hasM&&(!n||e.hasZ)),t.hasZ=n,t.hasM=i}var X;function ot(t){return(e,r)=>e==null?r:r==null?e:t(e,r)}function Nt(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}var w=X=class extends b{constructor(...t){super(...t),this.points=[],this.type="multipoint"}normalizeCtorArgs(t,e){if(!t&&!e)return{};let r={};Array.isArray(t)?(r.points=t,r.spatialReference=e):Nt(t)?r.spatialReference=t:(t.points&&(r.points=t.points),t.spatialReference&&(r.spatialReference=t.spatialReference),t.hasZ&&(r.hasZ=t.hasZ),t.hasM&&(r.hasM=t.hasM));let i=r.points?.[0];return i&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=i.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=i.length>3:r.hasM===void 0&&(r.hasM=i.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){let t=this.points;if(!t.length)return null;let e=new F,r=this.hasZ,i=this.hasM,n=r?3:2,s=t[0],o=ot(Math.min),a=ot(Math.max),p,h,u,l,[c,m]=s,[y,f]=s;for(let g=0,I=t.length;g<I;g++){let x=t[g],[v,_]=x;if(c=o(c,v),m=o(m,_),y=a(y,v),f=a(f,_),r&&x.length>2){let N=x[2];p=o(p,N),u=a(u,N)}if(i&&x.length>n){let N=x[n];h=o(h,N),l=a(l,N)}}return e.xmin=c,e.ymin=m,e.xmax=y,e.ymax=f,e.spatialReference=this.spatialReference,r?(e.zmin=p,e.zmax=u):(e.zmin=void 0,e.zmax=void 0),i?(e.mmin=h,e.mmax=l):(e.mmin=void 0,e.mmax=void 0),e}writePoints(t,e){e.points=A(this.points)}addPoint(t){return Z(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}clone(){let t={points:A(this.points),spatialReference:this.spatialReference};return this.hasZ&&(t.hasZ=!0),this.hasM&&(t.hasM=!0),new X(t)}getPoint(t){if(!this._validateInputs(t))return null;let e=this.points[t],r={x:e[0],y:e[1],spatialReference:this.spatialReference},i=2;return this.hasZ&&(r.z=e[2],i=3),this.hasM&&(r.m=e[i]),new P(r)}removePoint(t){if(!this._validateInputs(t))return null;let e=new P(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(Z(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};d([R({readOnly:!0})],w.prototype,"cache",null),d([R()],w.prototype,"extent",null),d([R({type:[[Number]],json:{write:{isRequired:!0}}})],w.prototype,"points",void 0),d([O("points")],w.prototype,"writePoints",null),w=X=d([T("esri.geometry.Multipoint")],w),w.prototype.toJSON.isDefaultToJSON=!0;var Ut=w;function ee(t){let e=[];for(t.reset();t.nextPath();){let r=[];for(;t.nextPoint();)r.push([t.x,t.y]);e.push(r)}return t.reset(),e}function at(t){let e=[];for(;t.nextPoint();)e.push([t.x,t.y]);return t.seekPathStart(),e}function se(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function lt(t){return t?Mt(t.rings,t.hasZ??!1):null}function Mt(t,e){if(!t?.length)return null;let r=[],i=[],n=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,o=t.length;s<o;s++){let a=ht(t[s],e,n);a&&i.push(a)}if(i.sort((s,o)=>{let a=s[2]-o[2];return a===0&&e&&(a=s[4]-o[4]),a}),i.length&&(r[0]=i[0][0],r[1]=i[0][1],e&&(r[2]=i[0][3]),(r[0]<n[0]||r[0]>n[1]||r[1]<n[2]||r[1]>n[3]||e&&(r[2]<n[4]||r[2]>n[5]))&&(r.length=0)),!r.length){let s=t[0]&&t[0].length?At(t[0],e):null;if(!s)return null;r[0]=s[0],r[1]=s[1],e&&s.length>2&&(r[2]=s[2])}return r}function ht(t,e,r){let i=0,n=0,s=0,o=0,a=0,p=t.length?t[0][0]:0,h=t.length?t[0][1]:0,u=t.length&&e?t[0][2]:0;for(let c=0;c<t.length;c++){let m=t[c],y=t[(c+1)%t.length],[f,g,I]=m,x=f-p,v=g-h,[_,N,Rt]=y,J=_-p,Q=N-h,G=x*Q-J*v;if(o+=G,i+=(x+J)*G,n+=(v+Q)*G,e&&m.length>2&&y.length>2){let U=I-u,$=Rt-u,tt=x*$-J*U;s+=(U+$)*tt,a+=tt}f<r[0]&&(r[0]=f),f>r[1]&&(r[1]=f),g<r[2]&&(r[2]=g),g>r[3]&&(r[3]=g),e&&(I<r[4]&&(r[4]=I),I>r[5]&&(r[5]=I))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;let l=[i/(6*o)+p,n/(6*o)+h,o];return e&&(r[4]===r[5]||a===0?(l[3]=(r[4]+r[5])/2,l[4]=0):(l[3]=s/(6*a)+u,l[4]=a)),l}function oe(t,e){let r=0,i=0,n=0;t.nextPoint();let s=t.pathSize?t.x:0,o=t.pathSize?t.y:0;for(let a=0;a<t.pathSize;a++){t.seekInPath(a);let p=[t.x,t.y];t.seekInPath((a+1)%t.pathSize);let h=[t.x,t.y],[u,l]=p,c=u-s,m=l-o,[y,f]=h,g=y-s,I=f-o,x=c*I-g*m;n+=x,r+=(c+g)*x,i+=(m+I)*x,u<e[0]&&(e[0]=u),u>e[1]&&(e[1]=u),l<e[2]&&(e[2]=l),l>e[3]&&(e[3]=l)}return n>0&&(n*=-1),n?(n*=.5,[r/(6*n)+s,i/(6*n)+o,n]):null}function At(t,e){let r=e?[0,0,0]:[0,0],i=e?[0,0,0]:[0,0],n=0,s=0,o=0,a=0;for(let p=0,h=t.length;p<h-1;p++){let u=t[p],l=t[p+1];if(u&&l){r[0]=u[0],r[1]=u[1],i[0]=l[0],i[1]=l[1],e&&u.length>2&&l.length>2&&(r[2]=u[2],i[2]=l[2]);let c=k(r,i);if(c){n+=c;let m=q(u,l);s+=c*m[0],o+=c*m[1],e&&m.length>2&&(a+=c*m[2])}}}return n>0?e?[s/n,o/n,a/n]:[s/n,o/n]:t.length?t[0]:null}function Zt(t){let{hasZ:e,totalSize:r}=t;if(r===0)return null;let i=[],n=[],s=e?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(t.reset();t.nextPath();){let o=ht(at(t),t.hasZ,s);o&&n.push(o)}if(n.sort((o,a)=>{let p=o[2]-a[2];return p===0&&e&&(p=o[4]-a[4]),p}),n.length&&(i[0]=n[0][0],i[1]=n[0][1],e&&(i[2]=n[0][3]),(i[0]<s[0]||i[0]>s[1]||i[1]<s[2]||i[1]>s[3]||e&&(i[2]<s[4]||i[2]>s[5]))&&(i.length=0)),!i.length){t.reset(),t.nextPath();let o=t.pathSize?wt(t):null;if(!o)return null;i[0]=o[0],i[1]=o[1],e&&o.length>2&&(i[2]=o[2])}return i}function wt(t){let{hasZ:e}=t,r=e?[0,0,0]:[0,0],i=e?[0,0,0]:[0,0],n=0,s=0,o=0,a=0;if(t.nextPoint()){let p=t.x,h=t.y,u=t.z;for(;t.nextPoint();){let l=t.x,c=t.y,m=t.z;r[0]=p,r[1]=h,i[0]=l,i[1]=c,e&&(r[2]=u,i[2]=m);let y=k(r,i);if(y){n+=y;let f=q(r,i);s+=y*f[0],o+=y*f[1],e&&f.length>2&&(a+=y*f[2])}p=l,h=c,u=m}}return n>0?e?[s/n,o/n,a/n]:[s/n,o/n]:t.pathSize?(t.seekPathStart(),t.nextPoint(),[t.x,t.y]):null}var zt=1e-6;function ae(t){let e=0;for(t.reset();t.nextPath();)e+=t.getCurrentRingArea();if(e<zt){let n=Zt(t);return n?[n[0],n[1]]:null}let r=[0,0];if(t.reset(),!t.nextPath()||!t.nextPoint())return null;let i=[t.x,t.y];for(t.reset();t.nextPath();)St(r,i,t);return r[0]*=1/e,r[1]*=1/e,r[0]+=i[0],r[1]+=i[1],r}var Ct=1/3;function St(t,e,r){if(!t||!r||r.pathSize<3)return null;r.nextPoint();let i=r.x,n=r.y;r.nextPoint();let s,o=r.x-i,a=r.y-n,p=0,h=0;for(;r.nextPoint();)p=r.x-i,h=r.y-n,s=.5*Ct*(p*a-h*o),t[0]+=s*(o+p),t[1]+=s*(a+h),o=p,a=h;let u=r.getCurrentRingArea(),l=[i,n];return l[0]-=e[0],l[1]-=e[1],l[0]*=u,l[1]*=u,t[0]+=l[0],t[1]+=l[1],t}function ut(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function pt(t){return t.points!==void 0}function ct(t){return t.x!==void 0&&t.y!==void 0}function mt(t){return t.paths!==void 0}function ft(t){return t.rings!==void 0}function gt(t){function e(r,i){return r==null?i:i==null?r:t(r,i)}return e}var z=gt(Math.min),C=gt(Math.max);function ue(t,e){return mt(e)?E(t,e.paths,!1,!1):ft(e)?E(t,e.rings,!1,!1):pt(e)?V(t,e.points,!1,!1,!1,!1):ut(e)?yt(t,e):(ct(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function pe(t){let e,r,i,n;for(t.reset(),e=i=1/0,r=n=-1/0;t.nextPath();){let s=_t(t);e=Math.min(s[0],e),i=Math.min(s[1],i),r=Math.max(s[2],r),n=Math.max(s[3],n)}return j([e,i,r,n])}function _t(t){let e,r,i,n;for(e=i=1/0,r=n=-1/0;t.nextPoint();)e=Math.min(t.x,e),i=Math.min(t.y,i),r=Math.max(t.x,r),n=Math.max(t.y,n);return j([e,i,r,n])}function ce(t,e){return mt(e)?E(t,e.paths,!0,!1):ft(e)?E(t,e.rings,!0,!1):pt(e)?V(t,e.points,!0,!1,!0,!1):ut(e)?yt(t,e,!0,!1,!0,!1):(ct(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function E(t,e,r,i){let n=r?3:2;if(!e.length||!e[0].length)return null;let s,o,a,p,[h,u]=e[0][0],[l,c]=e[0][0];for(let m=0;m<e.length;m++){let y=e[m];for(let f=0;f<y.length;f++){let g=y[f],[I,x]=g;if(h=z(h,I),u=z(u,x),l=C(l,I),c=C(c,x),r&&g.length>2){let v=g[2];s=z(s,v),o=C(o,v)}if(i&&g.length>n){let v=g[n];a=z(s,v),p=C(o,v)}}}return r?i?(t[0]=h,t[1]=u,t[2]=s,t[3]=a,t[4]=l,t[5]=c,t[6]=o,t[7]=p,t.length=8,t):(t[0]=h,t[1]=u,t[2]=s,t[3]=l,t[4]=c,t[5]=o,t.length=6,t):i?(t[0]=h,t[1]=u,t[2]=a,t[3]=l,t[4]=c,t[5]=p,t.length=6,t):(t[0]=h,t[1]=u,t[2]=l,t[3]=c,t.length=4,t)}function yt(t,e,r,i,n,s){let o=e.xmin,a=e.xmax,p=e.ymin,h=e.ymax,u=e.zmin,l=e.zmax,c=e.mmin,m=e.mmax;return n?(u=u||0,l=l||0,s?(c=c||0,m=m||0,t[0]=o,t[1]=p,t[2]=u,t[3]=c,t[4]=a,t[5]=h,t[6]=l,t[7]=m,t):(t[0]=o,t[1]=p,t[2]=u,t[3]=a,t[4]=h,t[5]=l,t)):s?(c=c||0,m=m||0,t[0]=o,t[1]=p,t[2]=c,t[3]=a,t[4]=h,t[5]=m,t):(t[0]=o,t[1]=p,t[2]=a,t[3]=h,t)}function V(t,e,r,i,n,s){let o=r?3:2,a=i&&s,p=r&&n;if(!e.length||!e[0].length)return null;let h,u,l,c,[m,y]=e[0],[f,g]=e[0];for(let I=0;I<e.length;I++){let x=e[I],[v,_]=x;if(m=z(m,v),y=z(y,_),f=C(f,v),g=C(g,_),p&&x.length>2){let N=x[2];h=z(h,N),u=C(u,N)}if(a&&x.length>o){let N=x[o];l=z(h,N),c=C(u,N)}}return n?(h=h||0,u=u||0,s?(l=l||0,c=c||0,t[0]=m,t[1]=y,t[2]=h,t[3]=l,t[4]=f,t[5]=g,t[6]=u,t[7]=c,t):(t[0]=m,t[1]=y,t[2]=h,t[3]=f,t[4]=g,t[5]=u,t)):s?(l=l||0,c=c||0,t[0]=m,t[1]=y,t[2]=l,t[3]=f,t[4]=g,t[5]=c,t):(t[0]=m,t[1]=y,t[2]=f,t[3]=g,t)}function Et(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function Tt(t){return t.points!==void 0}function Ot(t){return t.x!==void 0&&t.y!==void 0}function bt(t){return t.paths!==void 0}function Ft(t){return t.rings!==void 0}var D=[];function xt(t,e,r,i){return{xmin:t,ymin:e,xmax:r,ymax:i}}function dt(t,e,r,i,n,s){return{xmin:t,ymin:e,zmin:r,xmax:i,ymax:n,zmax:s}}function Pt(t,e,r,i,n,s){return{xmin:t,ymin:e,mmin:r,xmax:i,ymax:n,mmax:s}}function It(t,e,r,i,n,s,o,a){return{xmin:t,ymin:e,zmin:r,mmin:i,xmax:n,ymax:s,zmax:o,mmax:a}}function W(t,e=!1,r=!1){return e?r?It(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):dt(t[0],t[1],t[2],t[3],t[4],t[5]):r?Pt(t[0],t[1],t[2],t[3],t[4],t[5]):xt(t[0],t[1],t[2],t[3])}function ge(t){return t?Et(t)?t:Ot(t)?Vt(t):Ft(t)?L(t):bt(t)?H(t):Tt(t)?Yt(t):null:null}function Yt(t){let{hasZ:e,hasM:r,points:i}=t;return W(V(D,i,e??!1,r??!1),e,r)}function Vt(t){let{x:e,y:r,z:i,m:n}=t,s=n!=null;return i!=null?s?It(e,r,i,n,e,r,i,n):dt(e,r,i,e,r,i):s?Pt(e,r,n,e,r,n):xt(e,r,e,r)}function L(t){let{hasZ:e,hasM:r,rings:i}=t,n=E(D,i,e??!1,r??!1);return n?W(n,e,r):null}function H(t){let{hasZ:e,hasM:r,paths:i}=t,n=E(D,i,e??!1,r??!1);return n?W(n,e,r):null}var B;function vt(t){return!Array.isArray(t[0])}var M=B=class extends b{static fromExtent(t){let e=t.clone().normalize(),r=t.spatialReference,i=!1,n=!1;for(let o of e)o.hasZ&&(i=!0),o.hasM&&(n=!0);let s={rings:e.map(o=>{let a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(i&&o.hasZ){let p=o.zmin+.5*(o.zmax-o.zmin);for(let h=0;h<a.length;h++)a[h].push(p)}if(n&&o.hasM){let p=o.mmin+.5*(o.mmax-o.mmin);for(let h=0;h<a.length;h++)a[h].push(p)}return a}),spatialReference:r};return i&&(s.hasZ=!0),n&&(s.hasM=!0),new B(s)}constructor(...t){super(...t),this.rings=[],this.type="polygon"}normalizeCtorArgs(t,e){let r,i,n=null,s=null;return t&&!Array.isArray(t)?(n=t.rings??null,e||(t.spatialReference?e=t.spatialReference:t.rings||(e=t)),r=t.hasZ,i=t.hasM):n=t,n=n||[],e=e||Y.WGS84,n.length&&n[0]?.[0]!=null&&typeof n[0][0]=="number"&&(n=[n]),s=n[0]?.[0],s&&(r===void 0&&i===void 0?(r=s.length>2,i=s.length>3):r===void 0?r=i?s.length>3:s.length>2:i===void 0&&(i=r?s.length>3:s.length>2)),{rings:n,spatialReference:e,hasZ:r,hasM:i}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){let t=lt(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;let e=new P;return e.x=t[0],e.y=t[1],e.spatialReference=this.spatialReference,this.hasZ&&(e.z=t[2]),e}get extent(){let{spatialReference:t}=this,e=L(this);if(!e)return null;let r=new F(e);return r.spatialReference=t,r}get isSelfIntersecting(){return nt(this.rings)}writeRings(t,e){e.rings=A(this.rings)}addRing(t){if(!t)return;let e=this.rings,r=e.length;if(vt(t)){let i=[];for(let n=0,s=t.length;n<s;n++)i[n]=t[n].toArray();e[r]=i}else e[r]=t.concat();return this.notifyChange("rings"),this}clone(){let t=new B;return t.spatialReference=this.spatialReference,t.rings=A(this.rings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(t==null)return!1;let e=this.spatialReference,r=t.spatialReference;if(e!=null!=(r!=null)||e!=null&&r!=null&&!e.equals(r)||this.rings.length!==t.rings.length)return!1;let i=([n,s,o,a],[p,h,u,l])=>n===p&&s===h&&(o==null&&u==null||o===u)&&(a==null&&l==null||a===l);for(let n=0;n<this.rings.length;n++){let s=this.rings[n],o=t.rings[n];if(!et(s,o,i))return!1}return!0}contains(t){if(!t)return!1;let e=rt(t,this.spatialReference);return it(this,e??t)}isClockwise(t){let e=vt(t)?t.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):t;return st(e)}getPoint(t,e){if(!this._validateInputs(t,e))return null;let r=this.rings[t][e],i=this.hasZ,n=this.hasM;return i&&!n?new P(r[0],r[1],r[2],void 0,this.spatialReference):n&&!i?new P(r[0],r[1],void 0,r[2],this.spatialReference):i&&n?new P(r[0],r[1],r[2],r[3],this.spatialReference):new P(r[0],r[1],this.spatialReference)}insertPoint(t,e,r){return this._validateInputs(t,e,!0)?(Z(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[t].splice(e,0,r),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;let r=new P(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(t){if(!this._validateInputs(t,null))return null;let e=this.rings.splice(t,1)[0],r=this.spatialReference,i=e.map(n=>new P(n,r));return this.notifyChange("rings"),i}setPoint(t,e,r){return this._validateInputs(t,e)?(Z(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[t][e]=r,this.notifyChange("rings"),this):this}_validateInputs(t,e,r=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){let i=this.rings[t];if(r&&(e<0||e>i.length)||!r&&(e<0||e>=i.length))return!1}return!0}toJSON(t){return this.write({},t)}};d([R({readOnly:!0})],M.prototype,"cache",null),d([R({readOnly:!0})],M.prototype,"centroid",null),d([R({readOnly:!0})],M.prototype,"extent",null),d([R({readOnly:!0})],M.prototype,"isSelfIntersecting",null),d([R({type:[[[Number]]],json:{write:{isRequired:!0}}})],M.prototype,"rings",void 0),d([O("rings")],M.prototype,"writeRings",null),M=B=d([T("esri.geometry.Polygon")],M),M.prototype.toJSON.isDefaultToJSON=!0;var Fe=M;var K;function Bt(t){return!Array.isArray(t[0])}var S=K=class extends b{constructor(...t){super(...t),this.paths=[],this.type="polyline"}normalizeCtorArgs(t,e){let r,i,n=null,s=null;return t&&!Array.isArray(t)?(n=t.paths??null,e||(t.spatialReference?e=t.spatialReference:t.paths||(e=t)),r=t.hasZ,i=t.hasM):n=t,n=n||[],e=e||Y.WGS84,n.length&&n[0]?.[0]!=null&&typeof n[0][0]=="number"&&(n=[n]),s=n[0]?.[0],s&&(r===void 0&&i===void 0?(r=s.length>2,i=!1):r===void 0?r=!i&&s.length>3:i===void 0&&(i=!r&&s.length>3)),{paths:n,spatialReference:e,hasZ:r,hasM:i}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){let{spatialReference:t}=this,e=H(this);if(!e)return null;let r=new F(e);return r.spatialReference=t,r}writePaths(t,e){e.paths=A(this.paths)}addPath(t){if(!t)return;let e=this.paths,r=e.length;if(Bt(t)){let i=[];for(let n=0,s=t.length;n<s;n++)i[n]=t[n].toArray();e[r]=i}else e[r]=t.concat();return this.notifyChange("paths"),this}clone(){let t=new K;return t.spatialReference=this.spatialReference,t.paths=A(this.paths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;let r=this.paths[t][e],i=this.hasZ,n=this.hasM;return i&&!n?new P(r[0],r[1],r[2],void 0,this.spatialReference):n&&!i?new P(r[0],r[1],void 0,r[2],this.spatialReference):i&&n?new P(r[0],r[1],r[2],r[3],this.spatialReference):new P(r[0],r[1],this.spatialReference)}insertPoint(t,e,r){return this._validateInputs(t,e,!0)?(Z(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[t].splice(e,0,r),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;let e=this.paths.splice(t,1)[0],r=this.spatialReference,i=e.map(n=>new P(n,r));return this.notifyChange("paths"),i}removePoint(t,e){if(!this._validateInputs(t,e))return null;let r=new P(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(t,e,r){return this._validateInputs(t,e)?(Z(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[t][e]=r,this.notifyChange("paths"),this):this}_validateInputs(t,e,r=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){let i=this.paths[t];if(r&&(e<0||e>i.length)||!r&&(e<0||e>=i.length))return!1}return!0}toJSON(t){return this.write({},t)}};d([R({readOnly:!0})],S.prototype,"cache",null),d([R({readOnly:!0})],S.prototype,"extent",null),d([R({type:[[[Number]]],json:{write:{isRequired:!0}}})],S.prototype,"paths",void 0),d([O("paths")],S.prototype,"writePaths",null),S=K=d([T("esri.geometry.Polyline")],S),S.prototype.toJSON.isDefaultToJSON=!0;var Ue=S;export{Ut as a,ee as b,at as c,se as d,lt as e,Mt as f,oe as g,ae as h,ue as i,pe as j,_t as k,ce as l,ge as m,L as n,Fe as o,Ue as p};
