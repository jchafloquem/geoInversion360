import{I as a,L as y}from"./chunk-Z5NXR7SL.js";import{S as _}from"./chunk-7JLWSSXP.js";import{a as s}from"./chunk-W3WDPWBE.js";import{k as f,m as b,r as i}from"./chunk-JKP4I6UL.js";import{d as c,e as m}from"./chunk-TZHKPIVH.js";import{g as l}from"./chunk-JEGVIFEP.js";function H(r,t,n){return i(r.map((e,u)=>t.apply(n,[e,u])))}function R(r,t,n){return l(this,null,function*(){return(yield i(r.map((e,u)=>t.apply(n,[e,u])))).map(e=>e.value)})}function p(r){return{ok:!0,value:r}}function h(r){return{ok:!1,error:r}}function d(r){return r!=null&&r.ok===!0?r.value:null}function v(r){return r!=null&&r.ok===!1?r.error:null}function x(r){return l(this,null,function*(){if(r==null)return{ok:!1,error:new Error("no promise provided")};try{return p(yield r)}catch(t){return h(t)}})}function M(r){return l(this,null,function*(){try{return p(yield r)}catch(t){return f(t),h(t)}})}function O(r,t){return new o(r,t)}var o=class extends y{get value(){return d(this._result)}get error(){return v(this._result)}get finished(){return this._result!=null}constructor(r,t){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=m(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;let{signal:n}=this._abortController;this.promise=r(n),this.promise.then(e=>{this._result=p(e),this._cleanup()},e=>{this._result=h(e),this._cleanup()}),this._abortHandle=b(t,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=c(this._abortHandle),this._abortController=null}};s([a()],o.prototype,"value",null),s([a()],o.prototype,"error",null),s([a()],o.prototype,"finished",null),s([a()],o.prototype,"promise",void 0),s([a()],o.prototype,"_result",void 0),o=s([_("esri.core.asyncUtils.ReactiveTask")],o);export{H as a,R as b,x as c,M as d,O as e};
