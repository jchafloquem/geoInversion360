import{a as u}from"./chunk-VC35VCVT.js";import{I as g,T as A}from"./chunk-Z5NXR7SL.js";import{S as f}from"./chunk-7JLWSSXP.js";import{a as r}from"./chunk-W3WDPWBE.js";import{b as a,q as s}from"./chunk-BRWS572J.js";var y,e=y=class extends A{constructor(t){super(t),this.color=null,this.position=new Float64Array(0),this.uv=null,this.normal=null,this.tangent=null}castColor(t){return c(t,Uint8Array,[Uint8ClampedArray],{loggerTag:".color=",stride:4},s.getLogger(this))}castPosition(t){return t&&t instanceof Float32Array&&s.getLogger(this).warn(".position=","Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array"),c(t,Float64Array,[Float32Array],{loggerTag:".position=",stride:3},s.getLogger(this))}castUv(t){return c(t,Float32Array,[Float64Array],{loggerTag:".uv=",stride:2},s.getLogger(this))}castNormal(t){return c(t,Float32Array,[Float64Array],{loggerTag:".normal=",stride:3},s.getLogger(this))}castTangent(t){return c(t,Float32Array,[Float64Array],{loggerTag:".tangent=",stride:4},s.getLogger(this))}clone(){let t={position:a(this.position),uv:a(this.uv),normal:a(this.normal),tangent:a(this.tangent),color:a(this.color)};return new y(t)}clonePositional(){let t={position:a(this.position),normal:a(this.normal),tangent:a(this.tangent),uv:this.uv,color:this.color};return new y(t)}get memoryUsage(){let t=0;return t+=this.position.byteLength,this.uv!=null&&(t+=this.uv.byteLength),this.normal!=null&&(t+=this.normal.byteLength),this.tangent!=null&&(t+=this.tangent.byteLength),this.color!=null&&(t+=this.color.byteLength),t}};function m(t,o,n,p){let{loggerTag:i,stride:l}=o;return t.length%l!=0?(p.error(i,`Invalid array length, expected a multiple of ${l}`),new n([])):t}function c(t,o,n,p,i){if(!t)return t;if(t instanceof o)return m(t,p,o,i);for(let l of n)if(t instanceof l)return m(new o(t),p,o,i);if(Array.isArray(t))return m(new o(t),p,o,i);{let l=n.map(d=>`'${d.name}'`);return i.error(`Failed to set property, expected one of ${l}, but got ${t.constructor.name}`),new o([])}}function h(t,o,n){o[n]=v(t)}function v(t){let o=new Array(t.length);for(let n=0;n<t.length;n++)o[n]=t[n];return o}r([g({json:{write:h}})],e.prototype,"color",void 0),r([u("color")],e.prototype,"castColor",null),r([g({nonNullable:!0,json:{write:h}})],e.prototype,"position",void 0),r([u("position")],e.prototype,"castPosition",null),r([g({json:{write:h}})],e.prototype,"uv",void 0),r([u("uv")],e.prototype,"castUv",null),r([g({json:{write:h}})],e.prototype,"normal",void 0),r([u("normal")],e.prototype,"castNormal",null),r([g({json:{write:h}})],e.prototype,"tangent",void 0),r([u("tangent")],e.prototype,"castTangent",null),e=y=r([f("esri.geometry.support.MeshVertexAttributes")],e);export{e as a,c as b};
