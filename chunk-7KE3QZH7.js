import{a as I,b as m,c as J}from"./chunk-VLZLY64K.js";import{a as C,b as O}from"./chunk-Z5Q76SB7.js";import{j as H}from"./chunk-5QLB7ZJ7.js";import{a as M,l as v}from"./chunk-E5R4OI7X.js";import{a as p}from"./chunk-BCREO4Q5.js";import{h as G,n as R}from"./chunk-TMZNSBQB.js";import{B as A,C as Y,D as _,E as D,F,a as u,b as q,j as l,k as Z,l as w,m as h,n as f,u as g,v as B,w as y,x as L,y as X}from"./chunk-ZGLJFDS6.js";import{a as N}from"./chunk-RSDQHAJX.js";import{r as V}from"./chunk-7JLWSSXP.js";var P=class{constructor(i){this._allocator=i,this._items=[],this._itemsPtr=0,this._grow()}get(){return this._itemsPtr===0&&V(()=>this._reset()),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){let i=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*K);this._items.length=Math.min(i,this._items.length),this._itemsPtr=0}_grow(){for(let i=0;i<Math.max(8,Math.min(this._items.length,K));i++)this._items.push(this._allocator())}},K=1024;function U(t){return t?Q(q(t.origin),q(t.direction)):Q(u(),u())}function Q(t,i){return{origin:t,direction:i}}function Nt(t,i){let n=et.get();return n.origin=t,n.direction=i,n}function W(t,i,n=U()){return Z(n.origin,t),f(n.direction,i,t),n}function $(t,i,n){let s=Y(t.direction,f(n,i,t.origin));return h(n,t.origin,g(n,t.direction,s)),n}var et=new P(()=>U()),Zt=u();var at=z();function z(){return C()}var ct=v,ut=v;function tt(t,i){return M(i,t)}function ft(t,i){return O(t[0],t[1],t[2],i)}function mt(t){return t}function gt(t){t[0]=t[1]=t[2]=t[3]=0}function lt(t,i){return t[0]=t[1]=t[2]=0,t[3]=i,t}function x(t){return t[3]}function ht(t){return t}function pt(t,i,n,s){return O(t,i,n,s)}function dt(t,i,n){return t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=t[3]+i,n}function _t(t,i,n){return t!==n&&tt(t,n),n}function S(t,i,n){if(i==null||!nt(t,i,b))return!1;let{t0:s,t1:o}=b;if((s<0||o<s&&o>0)&&(s=o),s<0)return!1;if(n){let{origin:r,direction:e}=i;n[0]=r[0]+e[0]*s,n[1]=r[1]+e[1]*s,n[2]=r[2]+e[2]*s}return!0}function Mt(t,i,n){let s=W(i,n);if(!nt(t,s,b))return[];let{origin:o,direction:r}=s,{t0:e,t1:a}=b,c=d=>{let j=u();return B(j,o,r,d),E(t,j,j)};return Math.abs(e-a)<N()?[c(e)]:[c(e),c(a)]}var b={t0:0,t1:0};function nt(t,i,n){let{origin:s,direction:o}=i,r=Pt;r[0]=s[0]-t[0],r[1]=s[1]-t[1],r[2]=s[2]-t[2];let e=o[0]*o[0]+o[1]*o[1]+o[2]*o[2];if(e===0)return!1;let a=2*(o[0]*r[0]+o[1]*r[1]+o[2]*r[2]),c=a*a-4*e*(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]-t[3]*t[3]);if(c<0)return!1;let d=Math.sqrt(c);return n.t0=(-a-d)/(2*e),n.t1=(-a+d)/(2*e),!0}var Pt=u();function bt(t,i){return S(t,i,null)}function xt(t,i,n){if(S(t,i,n))return n;let s=it(t,i,m.get());return h(n,i.origin,g(m.get(),i.direction,y(i.origin,s)/l(i.direction))),n}function it(t,i,n){let s=m.get(),o=J.get();_(s,i.origin,i.direction);let r=x(t);_(n,s,i.origin),g(n,n,1/l(n)*r);let e=st(t,i.origin),a=I(i.origin,n);return H(o,a+e,s),F(n,n,o),n}function St(t,i,n){return S(t,i,n)?n:($(i,t,n),E(t,n,n))}function E(t,i,n){let s=f(m.get(),i,t),o=g(m.get(),s,t[3]/l(s));return h(n,o,t)}function jt(t,i){let n=f(m.get(),i,t),s=X(n),o=t[3]*t[3];return Math.sqrt(Math.abs(s-o))}function st(t,i){let n=f(m.get(),i,t),s=l(n),o=x(t),r=o+Math.abs(o-s);return G(o/r)}var T=u();function ot(t,i,n,s){let o=f(T,i,t);switch(n){case p.X:{let r=R(o,T)[2];return w(s,-Math.sin(r),Math.cos(r),0)}case p.Y:{let r=R(o,T),e=r[1],a=r[2],c=Math.sin(e);return w(s,-c*Math.cos(a),-c*Math.sin(a),Math.cos(e))}case p.Z:return A(s,o);default:return}}function rt(t,i){let n=f(k,i,t);return l(n)-t[3]}function qt(t,i,n,s){let o=rt(t,i),r=ot(t,i,p.Z,k),e=g(k,r,n-o);return h(s,i,e)}function wt(t,i){let n=L(t,i),s=x(t);return n<=s*s}function yt(t,i,n=C()){let s=y(t,i),o=t[3],r=i[3];return s+r<o?(M(n,t),n):s+o<r?(M(n,i),n):(D(n,t,i,(s+r-o)/(2*s)),n[3]=(s+o+r)/2,n)}var k=u(),At=z(),$t=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:at,altitudeAt:rt,angleToSilhouette:st,axisAt:ot,clear:gt,closestPoint:St,closestPointOnSilhouette:it,containsPoint:wt,copy:tt,create:z,distanceToSilhouette:jt,elevate:dt,equals:ut,exactEquals:ct,fromCenterAndRadius:ft,fromRadius:lt,fromValues:pt,getCenter:ht,getRadius:x,intersectLine:Mt,intersectRay:S,intersectRayClosestSilhouette:xt,intersectsRay:bt,projectPoint:E,setAltitudeAt:qt,setExtent:_t,tmpSphere:At,union:yt,wrap:mt},Symbol.toStringTag,{value:"Module"}));export{P as a,U as b,Nt as c,z as d,tt as e,x as f,bt as g,wt as h};
