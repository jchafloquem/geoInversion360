import{G as A}from"./chunk-Z5NXR7SL.js";import{a as d,b as p,d as y,e as v,g as m,j as w,m as h}from"./chunk-JKP4I6UL.js";import{d as l}from"./chunk-TZHKPIVH.js";function b(n,o,r={}){return f(n,o,r,M)}function B(n,o,r={}){return f(n,o,r,g)}function f(n,o,r={},t){let s=null,a=r.once?(e,i)=>{t(e)&&(l(s),o(e,i))}:(e,i)=>{t(e)&&o(e,i)};if(s=A(n,a,r.sync,r.equals),r.initial){let e=n();a(e,e)}return s}function D(n,o,r,t={}){let s=null,a=null,e=null;function i(){s&&a&&(a.remove(),t.onListenerRemove?.(s),s=null,a=null)}function u(c){t.once&&t.once&&l(e),r(c)}let C=b(n,(c,x)=>{i(),y(c)&&(s=c,a=v(c,o,u),t.onListenerAdd?.(c))},{sync:t.sync,initial:!0});return e=d(()=>{C.remove(),i()}),e}function F(n,o){return L(n,g,o)}function L(n,o,r){if(w(r))return Promise.reject(m());let t=n();if(o?.(t))return Promise.resolve(t);let s=null;function a(){s=l(s)}return new Promise((e,i)=>{s=p([h(r,()=>{a(),i(m())}),f(n,u=>{a(),e(u)},{sync:!1,once:!0},o??M)])})}function M(n){return!0}function g(n){return!!n}function J(n,o,r={}){let t=!1,s=b(n,(a,e)=>{t||o(a,e)},r);return{remove(){s.remove()},pause(){t=!0},resume(){t=!1}}}var K={sync:!0},N={initial:!0},Q={sync:!0,initial:!0};export{b as a,B as b,D as c,F as d,J as e,K as f,N as g,Q as h};
