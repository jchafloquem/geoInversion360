import{a as O,c as w}from"./chunk-FX2VBPAM.js";import{i}from"./chunk-K4GPNFIS.js";import{a as m,d as N}from"./chunk-HFQFGALU.js";import{a as B}from"./chunk-NNKLK2DS.js";import{aa as R}from"./chunk-BRGZVJPZ.js";import{h as x,l as $,q as y,s as c}from"./chunk-BRWS572J.js";import{g}from"./chunk-JEGVIFEP.js";var v={ar:"ar-u-nu-latn"},f=new WeakMap,M={};function E(e){let t=e||M;if(!f.has(t)){let r=m(),n=v[m()]||r;f.set(t,new Intl.NumberFormat(n,e))}return f.get(t)}function k(e={}){let t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function u(e,t){return Object.is(e,-0)&&(e=0),E(t).format(e)}N(()=>{f=new WeakMap,M={}});var A=()=>y.getLogger("esri.intl.substitute");function C(e,t,r={}){let{format:n={}}=r;return $(e,o=>J(o,t,n))}function J(e,t,r){let n,o,a=e.indexOf(":");if(a===-1?n=e.trim():(n=e.slice(0,a).trim(),o=e.slice(a+1).trim()),!n)return"";let s=x(n,t);if(s==null)return"";let l=(o?r?.[o]:null)??r?.[n];return l?j(s,l):o?I(s,o):h(s)}function j(e,t){switch(t.type){case"date":return i(e,t.intlOptions);case"number":return u(e,t.intlOptions);default:return A().warn("missing format descriptor for key {key}"),h(e)}}function I(e,t){switch(t.toLowerCase()){case"dateformat":return i(e);case"numberformat":return u(e);default:return A().warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?i(e):/^numberformat/i.test(t)?u(e):h(e)}}function h(e){switch(typeof e){case"string":return e;case"number":return u(e);case"boolean":return""+e;default:return e instanceof Date?i(e):""}}function W(e,t,r,n){return g(this,null,function*(){let o=t.exec(r);if(!o)throw new c("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);let a=o[1]?`${o[1]}/`:"",s=o[2],l=w(n),p=`${a}${s}.json`,L=l?`${a}${s}_${l}.json`:p,d;try{d=yield D(e(L))}catch(T){if(L===p)throw new c("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:T});try{d=yield D(e(p))}catch(U){throw new c("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:U})}}return d})}function D(e){return g(this,null,function*(){if(F.fetchBundleAsset!=null)return F.fetchBundleAsset(e);let t=yield R(e,{responseType:"text"});return JSON.parse(t.data)})}var b=class{constructor({base:t="",pattern:r,location:n=new URL(window.location.href)}){let o;o=typeof n=="string"?a=>new URL(a,new URL(n,window.location.href)).href:n instanceof URL?a=>new URL(a,n).href:n,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=o,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,r){return W(this.getAssetUrl,this.matcher,t,r)}};function S(e){return new b(e)}var F={};O(S({pattern:"esri/",location:B}));export{k as a,u as b,C as c};
