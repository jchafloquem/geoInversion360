import{b as y}from"./chunk-RP7XSKHE.js";import{L as g}from"./chunk-Z5NXR7SL.js";import{b}from"./chunk-7JLWSSXP.js";var A=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function d(n){return n instanceof g}function D(n){return n instanceof y?Object.keys(n.items):d(n)?b(n).keys():n?Object.keys(n):[]}function p(n,e){return n instanceof y?n.items[e]:n[e]}function k(n,e){return!(!Array.isArray(n)||!Array.isArray(e))&&n.length!==e.length}function c(n){return n?n.declaredClass:null}function V(n,e){let o=n.diff;if(o&&typeof o=="function")return o(n,e);let i=D(n),l=D(e);if(i.length===0&&l.length===0)return;if(!i.length||!l.length||k(n,e))return{type:"complete",oldValue:n,newValue:e};let s=l.filter(t=>!i.includes(t)),j=i.filter(t=>!l.includes(t)),m=i.filter(t=>l.includes(t)&&p(n,t)!==p(e,t)).concat(s,j).sort(),h=c(n);if(h&&A.has(h)&&m.length)return{type:"complete",oldValue:n,newValue:e};let a,w=d(n)&&d(e);for(let t of m){let r=p(n,t),f=p(e,t),u;if((w||typeof r!="function"&&typeof f!="function")&&r!==f&&(r!=null||f!=null)){if(o&&o[t]&&typeof o[t]=="function")u=o[t]?.(r,f);else if(r instanceof Date&&f instanceof Date){if(r.getTime()===f.getTime())continue;u={type:"complete",oldValue:r,newValue:f}}else u=typeof r=="object"&&typeof f=="object"&&c(r)===c(f)?V(r,f):{type:"complete",oldValue:r,newValue:f};u!=null&&(a!=null?a.diff[t]=u:a={type:"partial",diff:{[t]:u}})}}return a}function R(n,e){return O(n,e)}function O(n,e){if(n==null)return!1;let o=e.split("."),i=n;for(let l of o){if(i.type==="complete")return!0;if(i.type!=="partial")return!1;{let s=i.diff[l];if(!s)return!1;i=s}}return!0}function T(n,e){if(!n)return!1;if(n.type==="partial"){let o=Object.keys(n.diff);return o.length===1&&o[0]===e}return!1}function v(n,e){if(typeof n!="function"&&typeof e!="function"&&(n!=null||e!=null))return n==null||e==null||typeof n=="object"&&typeof e=="object"&&c(n)!==c(e)?{type:"complete",oldValue:n,newValue:e}:V(n,e)}export{R as a,O as b,T as c,v as d};
